<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.33,minimum-scale=1.0,maximum-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>文字标题+站点标题</title>
<meta name="keywords" content="c32's blog" />
<meta name="description" content="文章描述" />
<meta name="generator" content="emlog" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="RSS订阅地址" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="XML订阅地址" />
<link rel="alternate" type="application/rss+xml" title="RSS"  href="RSS地址" />
<!-- <link href="http://www.19aq.com/content/templates/txmi/css/huang.css" rel="stylesheet" type="text/css" /> -->
<!-- <link href="http://www.19aq.com/content/templates/txmi/css/lan.css" rel="stylesheet" type="text/css" /> -->
<link href="{:Url('/')}static/blog/style.css" rel="stylesheet" type="text/css" />
<!-- <link href="http://www.19aq.com/admin/editor/plugins/code/prettify.css" rel="stylesheet" type="text/css" /> -->
<!-- <script src="http://www.19aq.com/admin/editor/plugins/code/prettify.js" type="text/javascript"></script> -->
<!-- <script src="http://www.19aq.com/include/lib/js/common_tpl.js" type="text/javascript"></script> -->
<!-- <link href="http://www.19aq.com/admin/editor/plugins/code/prettify.css" rel="stylesheet" type="text/css" /> -->
<!-- <script src="http://www.19aq.com/admin/editor/plugins/code/prettify.js" type="text/javascript"></script> -->
<!--[if IE 6]>
<script src="http://www.19aq.com/content/templates/txmi/iefix.js" type="text/javascript"></script>
<![endif]-->
</head>
<!--<div id="top"><dl><span><a href="http://www.19aq.com/feed.php">RSS订阅</a></span>每天学习一点点,每天进步一点点.</dl></div>-->
<div id="top"><dl><span><a href="#">login</a></span>每天学习一点点,每天进步一点点.</dl></div> 
<!--顶部左边副标题和右边登陆-->
<div id="w980">
<div id="head">
<span id="ss">
<form name="keyform" method="get" action="#"> 

	<input name="keyword" class="search" type="text"  id="edtSearch"/>
	<input type="submit" value="搜索"  class="search-submit" id="btnPost"/>
	</form>
</span>
<a href="#" class="logo" title="c32's blog">c32's blog</a>

</div>

<div id="nav"><ul>	<ul class="bar">
			<li class="item common">
			<a href="http://www.19aq.com/" ><span>首页</span></a>
					</li>
		</ul>
</ul>
</div>

<div id="place">
当前位置：<a href="#">首页</a> 
>> <a href="#" class="secai">Thinkphp</a>
>> tp5新增文章
</div>
<div id="cennr">
<div id="left" class="xian">
<dl id="info">
<dt>
<h1>tp5新增文章</h1>
<span><em class="kan">34</em><em class="ping">0</em></span>
<a href="#"   class="secai">Thinkphp</a>
| 2017-10-31  </dt>

<dd id="zi"><pre class="brush:php;toolbar:false">public&nbsp;function&nbsp;article_add()	//新建文章
&nbsp;&nbsp;&nbsp;&nbsp;{
		if($this-&gt;request-&gt;isPost()){
			//&nbsp;dump(input(&#39;post.&#39;));&nbsp;&nbsp;//输出页面post过来的数据
			//&nbsp;
			
			//https://www.kancloud.cn/thinkphp/thinkphp5_quickstart/147279#_263&nbsp;&nbsp;查询构造器插入数据
			$data[&#39;title&#39;]&nbsp;		=&nbsp;$_POST[&quot;articletitle&quot;];
			$data[&#39;date&#39;]&nbsp;		=&nbsp;date(time());
			$data[&#39;content&#39;]&nbsp;	=&nbsp;$_POST[&quot;content&quot;];
			$data[&#39;sortid&#39;]&nbsp;	=&nbsp;$_POST[&quot;brandclass&quot;];
			$data[&#39;excerpt&#39;]&nbsp;	=&nbsp;&#39;我是文章描述&#39;;
			$data[&#39;status&#39;]&nbsp;	=&nbsp;&#39;1&#39;;
			
			//显示要添加到表中原始数据
			//&nbsp;echo&nbsp;&#39;要添加到表中的数据如下:&lt;br/&gt;&#39;;
			//dump($data);
			
			//插入数据到表中，并返回受影响记录数量
			$result&nbsp;=&nbsp;Article::insert($data);
			
			//判断是否新增成功,成功则显示提示信息
			echo&nbsp;$result&nbsp;?&nbsp;&quot;&lt;center&gt;&lt;font&nbsp;color=&#39;red&#39;&gt;&lt;h1&gt;发布成功!&lt;/h1&gt;&lt;/font&gt;&lt;/center&gt;&lt;br&nbsp;/&gt;&quot;:&#39;发布失败!&lt;br&nbsp;/&gt;&#39;;&nbsp;&nbsp;	

			return&nbsp;$this-&gt;fetch();
			
		}&nbsp;else&nbsp;{
			$sortname&nbsp;=&nbsp;ArticleSort::order(&#39;taxis&#39;,&nbsp;&#39;asc&#39;)-&gt;select();
			$this-&gt;assign(&#39;sortname&#39;,&nbsp;$sortname);
			return&nbsp;$this-&gt;fetch();
		}

&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p><P>推荐您阅读更多有关于“  ”的文章</P>
</dd>

<dd id="post_nav">
				<a class="r" href="http://www.19aq.com/article-257.html">下一篇：ThinkPHP5 的视图$view-&gt;fetch()和$view-&gt;display()的区别</a>
	<div class="clear"></div>
</dd>

<dd id="guan"><h2>猜你喜欢</h2>
<ul>
	
 <li><span>10-31</span><a href="http://www.19aq.com/article-232.html">房子</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-11.html">mysql简易连接测试脚本</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-2.html">安装irc 之xchat</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-3.html">ubuntu 安装sqlmap</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-10.html">超级列表框 导出到 xls</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-15.html">ubuntu使用nmap查询端口</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-12.html">Linux启动已经安装完毕的服务</a></li>
<li><span>10-31</span><a href="http://www.19aq.com/article-14.html">ubuntu关闭防火墙</a></li>
</ul></dd>

</dl>

	    <div id="pagenavi">
	        </div>
	<div id="comment-place">
	<div class="comment-post" id="comment-post">
		<div class="cancel-reply" id="cancel-reply" style="display:none"><a href="javascript:void(0);" onclick="cancelReply()">取消回复</a></div>
		<h3 class="comment-header">发表评论：<a name="respond"></a></h3>
		<form method="post" name="commentform" action="http://www.19aq.com/index.php?action=addcom" id="commentform">
			<input type="hidden" name="gid" value="258" />
						<p class="utext"><textarea name="comment" id="comment" rows="10" tabindex="4"></textarea></p>
			<p class="btn"> <input type="submit" id="comment_submit" value="发表评论" tabindex="6" /></p>
			<input type="hidden" name="pid" id="comment-pid" value="0" size="22" tabindex="1"/>
		</form>
	</div>
	</div>
	 
</div>


<div id="rigth">


	<dl>
	<dt>标签</dt><dd>
	<ul id="blogtags">
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/Linux%E6%BA%90" title="1 篇文章">Linux源</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/sqlmap" title="6 篇文章">sqlmap</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/shell" title="2 篇文章">shell</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/vmware" title="8 篇文章">vmware</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/ubuntu" title="6 篇文章">ubuntu</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/ssh" title="8 篇文章">ssh</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/nmap" title="3 篇文章">nmap</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/mysql" title="10 篇文章">mysql</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/metasploit" title="9 篇文章">metasploit</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/xss" title="1 篇文章">xss</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/beef" title="1 篇文章">beef</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/apache" title="15 篇文章">apache</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/tomcat" title="4 篇文章">tomcat</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/vsftpd" title="5 篇文章">vsftpd</a></span>
			<span style="line-height:30px;">
		<a href="http://www.19aq.com/tag/%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB" title="2 篇文章">依赖关系</a></span>
			<div class="clear"></div>
	</ul>
	</dd>
	</dl>
	<dl>
	<dt>分类</dt><dd>
	<ul id="blogsort">
		<li>
	<a href="http://www.19aq.com/sort/VB_NET">VB_NET(3)</a>
	<a href="http://www.19aq.com/rss.php?sort=16">订阅该分类</a>
			</li>
		<li>
	<a href="http://www.19aq.com/sort/Thinkphp">Thinkphp(5)</a>
	<a href="http://www.19aq.com/rss.php?sort=17">订阅该分类</a>
			</li>
		<li>
	<a href="http://www.19aq.com/sort/Linux">Linux(148)</a>
	<a href="http://www.19aq.com/rss.php?sort=12">订阅该分类</a>
			</li>
		<li>
	<a href="http://www.19aq.com/sort/Metasploit">Metasploit(10)</a>
	<a href="http://www.19aq.com/rss.php?sort=13">订阅该分类</a>
			</li>
		<li>
	<a href="http://www.19aq.com/sort/other">other(11)</a>
	<a href="http://www.19aq.com/rss.php?sort=15">订阅该分类</a>
			</li>
			</ul>
	</dd>
	</dl>
	<dl>
	<dt>存档</dt><dd>
	<ul id="record">
		<li><a href="http://www.19aq.com/record/201402">2014年2月(1)</a></li>
		<li><a href="http://www.19aq.com/record/201401">2014年1月(3)</a></li>
		<li><a href="http://www.19aq.com/record/201312">2013年12月(23)</a></li>
		<li><a href="http://www.19aq.com/record/201311">2013年11月(21)</a></li>
			<div class="clear"></div>
	</ul>
	</dd>
	</dl>
	<dl>
	<dt>Links</dt><dd>
	<ul id="link">
		<li><a href="https://github.com/amd5" title="c32's git" target="_blank">c32's git</a></li>
		<li><a href="https://s.click.taobao.com/jM0gjew" title="" target="_blank">阿里云330一年</a></li>
		</ul>
	</dd>
	</dl>
	<dl>
	<dt>最新评论</dt><dd>
	<ul id="newcomment">
		<li class="c">
		<img src="http://cn.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mm&r=g" class="photo" />
		<p>
			<span>c32</span>
		<br />
		<a href="http://www.19aq.com/article-1.html#1">12</a>
		</p>
		<div class="clear"></div>
	</li>
		</ul>
	</dd>
	</dl>
<dl style="padding-left:0;background:none;">
<div class="rss">
<a href="http://www.19aq.com/rss.php" title="RSS订阅">订阅Rss</a>
</div>
</dl>
<!--end #siderbar-->
</div>
<div class="clear"></div></div>

<div class="clear"></div>

<div  id="footer">
<!--<p>Powered by <a href="http://www.emlog.net" title="采用emlog系统">emlog</a>,Theme By <a href="http://www.txcstx.cn">天兴工作室</a></p>-->

</div>

</div>


</body>
</html>